<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>troubleshooting on Codifice</title>
    <link>https://codifice.uk/tags/troubleshooting/</link>
    <description>Recent content in troubleshooting on Codifice</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Tue, 01 Nov 2011 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="https://codifice.uk/tags/troubleshooting/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Ektron: Finding “Missing” Content in the Index on 64bit Windows</title>
      <link>https://codifice.uk/posts/2011-11-01-ektron-finding-missing-content-in-index/</link>
      <pubDate>Tue, 01 Nov 2011 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2011-11-01-ektron-finding-missing-content-in-index/</guid>
      <description>When content is created on an Ektron with a large content id (commonly on eSync enabled workareas) it may corrupt the content id.&amp;nbsp; For example if a new content item has an id of 6442451035 it will actually be indexed with a contentid of 2147483739.&amp;nbsp; This is because the original id is larger than an unsigned integer can hold. 1: long contentId = 6442451035;  2: Console.WriteLine((uint)contentId); //2147483739</description>
    </item>
    
    <item>
      <title>Logging is the new Exception Swallowing</title>
      <link>https://codifice.uk/posts/2011-05-03-logging-is-new-exception-swallowing/</link>
      <pubDate>Tue, 03 May 2011 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2011-05-03-logging-is-new-exception-swallowing/</guid>
      <description>For a long time now I’ve been stamping down hard on empty catch blocks in code, for obvious reasons.&amp;nbsp; When I can dictate coding standards that’s pretty much top the list.&amp;nbsp;   Every ‘catch’ block must (at a minimum) log or throw   I now realise I made a mistake with this rule...it should be:
  Every ‘catch’ block must (at a minimum) throw or log   It’s a subtle (the wording – not the formatting) difference in the way we need to think about this rule but it’s one I think we don’t think about enough.</description>
    </item>
    
    <item>
      <title>Ektron: High Indexing Service Processor Usage (Potential) Fix</title>
      <link>https://codifice.uk/posts/2010-12-16-ektron-high-indexing-service-processor/</link>
      <pubDate>Thu, 16 Dec 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-12-16-ektron-high-indexing-service-processor/</guid>
      <description>One of our larger client Ektron sites has had a history of poor performance that always seemed to be related to Indexing immediately after publishing content or syncing content to the live environment.&amp;nbsp; The site heavily uses indexed smart form fields and indexed metadata fields for ordering/sorting lists of content.
The symptoms were:
 High CIDAEMON processor usage (95-100% of a processor core)  Total Documents to Index in Indexing Service Manager getting stuck  Indexing Service ‘Service Too Busy’ exceptions  Analysing Crash Dumps of the CIDAEMON process shows the ‘hot’ thread stuck in the QLXFilter.</description>
    </item>
    
    <item>
      <title>EKTRON: Diagnosing 8.0 Extension Strategy Loading Failures</title>
      <link>https://codifice.uk/posts/2010-11-18-ektron-diagnosing-80-extension-strategy/</link>
      <pubDate>Thu, 18 Nov 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-11-18-ektron-diagnosing-80-extension-strategy/</guid>
      <description>I’ve recently hit a problem with deploying&amp;nbsp; Ektron Extensions (the 8.0 replacement for Plugins), essentially every time my Extension ‘Strategy’ was called the workarea would display an error similar to:
 Value cannot be null. Parameter name: type 
 Fortunately, in the Application Event log (for the CMS400 Source) there’s a bit more information:
1: Timestamp: 18/11/2010 18:43:01  2: Message: Could not load the MartinOnDotNet.Helpers.Ektron.Extensions.Monitoring.UserMonitoringStrategy, MartinOnDotNet.Helpers.Ektron.Extensions.Monitoring implementation from the configuration file  3: Category: Error  4: Priority: -1  5: EventId: 0  6: Severity: Error   This shows that the declaration in the web.</description>
    </item>
    
    <item>
      <title>Diagnosing Tricky ASP.Net Production Issues with DebugDiag and winDbg</title>
      <link>https://codifice.uk/posts/2010-07-10-diagnosing-tricky-aspnet-production/</link>
      <pubDate>Sat, 10 Jul 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-07-10-diagnosing-tricky-aspnet-production/</guid>
      <description>Issues that (appear to) occur only in production can be very frustrating.&amp;nbsp; Recently, I’ve had difficulty with a ‘normal’ product upgrade introducing several features and fixes… the code base worked in development, passed QA and passed UAT in the staging environment.&amp;nbsp; However, 5 minutes after deploying to live the w3wp process crashes, shortly followed by the other servers in the cluster.
Bugger.
A quick look in the event logs show no unusual errors logged by the application, but the Application log records this:</description>
    </item>
    
    <item>
      <title>TIP: How to Debug Windows Services and Plugins</title>
      <link>https://codifice.uk/posts/2010-06-23-tip-how-to-debug-windows-services-and/</link>
      <pubDate>Wed, 23 Jun 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-06-23-tip-how-to-debug-windows-services-and/</guid>
      <description>If you’ve ever had to create an component hosted inside a 3rd Party application (such as a plugin or windows service), you’ll know that it can be pretty tricky to get the debugger attached to the process quickly and reliably.&amp;nbsp; Here’s a snippet that’s I’ve taken from project to project:
1: #if DEBUG  2: if (Properties.Settings.Default.LaunchDebugger  3: &amp;amp;&amp;amp; !System.Diagnostics.Debugger.IsAttached) System.Diagnostics.Debugger.Launch();  4: #endif   
This is statement checks to see if launching the debugger is allowed (using the standard settings classes) and launches the debugger if one isn’t already attached.</description>
    </item>
    
    <item>
      <title>Ektron: Fix for Primary Key Constraint Error When Creating A User</title>
      <link>https://codifice.uk/posts/2010-06-22-ektron-fix-for-primary-key-constraint/</link>
      <pubDate>Tue, 22 Jun 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-06-22-ektron-fix-for-primary-key-constraint/</guid>
      <description>We’ve recently had an issue with creating users in our Ektron 8.0.1 installation where we could no longer create users.&amp;nbsp; The error we got was:
 Error cms_addUser: Error[cms_SetupDefaultNotificationPreferencesForUser]:
Violation of PRIMARY KEY constraint &#39;PK_notification_preference_default&#39;.
Cannot insert duplicate key in object &#39;dbo.notification_preference_default&#39;.
[EkUser-&amp;gt;AddUserv2_0][UserApi-&amp;gt;AddUser]  Scary Stuff.
Still, the Ektron provided fixes are simple enough (although by no means intuitive!):
Simple Fix  Restart Ektron Windows Services  Perform a full eSync (from Synchronisation screen)   Complex Fix If the above doesn’t work try this:</description>
    </item>
    
    <item>
      <title>Ektron 8.01: PlatformNotSupportedException – Tracking Down and Fixing Another Multilingual Gotcha!</title>
      <link>https://codifice.uk/posts/2010-06-15-ektron-801-platformnotsupportedexceptio/</link>
      <pubDate>Tue, 15 Jun 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-06-15-ektron-801-platformnotsupportedexceptio/</guid>
      <description>I’m still tracing though issues after upgrading to 8.01, this time looking at why requests for static files are return 500 - Internal Server Errors when French is selected, but not English. Hmm.
Looking at the Event Logs shows lots of errors like this:
1: Exception type: PlatformNotSupportedException   2:&amp;nbsp;   3: Exception message: The DefaultHttpHandler.BeginProcessRequest method is not   4: supported by IIS integrated pipeline mode.    This is telling me that I’m trying to serve a file via the IIS 7 Integrated Pipeline using a handler that’s specifically designed for IIS 6 (or IIS Classic Pipeline).</description>
    </item>
    
    <item>
      <title>Ektron 8.0.1: Fixing New Handlers Multilingual Bug</title>
      <link>https://codifice.uk/posts/2010-06-14-ektron-801-fixing-new-handlers/</link>
      <pubDate>Mon, 14 Jun 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-06-14-ektron-801-fixing-new-handlers/</guid>
      <description>I recently had to upgrade an multilingual Ektron project and all went relatively well.&amp;nbsp; However, whilst debugging the site – I noticed that we were getting a lot of Formatting Exceptions when running the site in French (fr-FR) but not English (en-GB).&amp;nbsp; I tracked this down to the new ‘workarea/csslib/ektronCss.ashx’ and ‘workarea/java/ektronJs.ashx’ handlers and in particular around the mechanism for parsing the ‘If-Modified-Since’ header:
1: public class ektronCss : IHttpHandler {  2:   3: public void ProcessRequest (HttpContext context)   4: {  5: // Ommitted for clarity until line 19   6: CultureInfo provider = CultureInfo.</description>
    </item>
    
    <item>
      <title>N2CMS Templates RSS Feed Fix</title>
      <link>https://codifice.uk/posts/2010-06-10-n2cms-templates-rss-feed-fix/</link>
      <pubDate>Thu, 10 Jun 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-06-10-n2cms-templates-rss-feed-fix/</guid>
      <description>N2CMS comes with some pretty fully featured examples, the most useful to me is the N2.Templates example site.&amp;nbsp; Unfortunately, as it stands the RSS feed is broken and give the error:
Cannot use filters when using MaxResults, sorry. Fortunately a fix can be found the N2.Templates.Mvc project, you just need to replace the following functions in N2.Templates.Items.RssFeed :
1: public virtual IEnumerable&amp;lt;ISyndicatable&amp;gt; GetItems()  2: {  3: foreach (ISyndicatable item in N2.</description>
    </item>
    
    <item>
      <title>N2CMS Forum Addon: Fixing the Theme</title>
      <link>https://codifice.uk/posts/2010-06-09-n2cms-forum-addon-fixing-theme/</link>
      <pubDate>Wed, 09 Jun 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-06-09-n2cms-forum-addon-fixing-theme/</guid>
      <description>My work on the VWT2OC site is on hiatus at the moment due to hosting issues so I thought I’d blog a useful fix that I’ve found.
I’ve noticed a bug with the Forum Addon.&amp;nbsp; The first page would be correctly themed but any subsequent pages were not when running against a build of the latest N2CMS.
On investigation it seems that the Forum Pages CurrentItem was resolving to null which prevented the ThemeConcern for assigning the correct theme:</description>
    </item>
    
    <item>
      <title>Fixing the Precompilation Marker File Ektron Issue on IIS 7</title>
      <link>https://codifice.uk/posts/2010-04-22-fixing-precompilation-marker-file/</link>
      <pubDate>Thu, 22 Apr 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-04-22-fixing-precompilation-marker-file/</guid>
      <description>After recently updating a 7.65 based website to 8.0 we recently found that parts of the workarea were unusable.&amp;nbsp; The upgrade went well and all the pre-deployment checks went well.&amp;nbsp; However, when we performed the UAT deployment the workarea was broken.&amp;nbsp; Where the treeview menu on the left should be, there was a helpful message:
 This is a marker file generated by the precompilation tool, and should not be deleted!</description>
    </item>
    
    <item>
      <title>Enabling Concurrent Logins in Ektron</title>
      <link>https://codifice.uk/posts/2010-04-16-enabling-concurrent-logins-in-ektron/</link>
      <pubDate>Fri, 16 Apr 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-04-16-enabling-concurrent-logins-in-ektron/</guid>
      <description>For one of our major clients we needed a semi-secure area – you needed credentials to view the content within, but there was only one set of credentials.&amp;nbsp;&amp;nbsp; This meant that multiple users could access the site concurrently with the same credentials and this is a bit of a problem for the Ektron security model as it’s based around a one session per login model.
This model is enforced by a unique integer that is generated on login and persisted in the database (in [dbo].</description>
    </item>
    
    <item>
      <title>IIS 7 Gotcha! 404.13 Not Found – Uploading Large Files with Integrated Pipeline!</title>
      <link>https://codifice.uk/posts/2010-04-13-iis-7-gotcha-40413-not-found-uploading/</link>
      <pubDate>Tue, 13 Apr 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-04-13-iis-7-gotcha-40413-not-found-uploading/</guid>
      <description>Whilst uploading a large (70MB) file to an IIS 7 website I got a 404 error….which was odd, uploading a file in a postback shouldn’t give me that.&amp;nbsp; I know that file exists!
On further investigation it turns out it was actually a 404.13 error from the Request Filtering feature of the Integrated Pipeline (more info: http://bit.ly/dkZiYr).&amp;nbsp; To fix this I needed to add some additional configuration to the &amp;lt;system.</description>
    </item>
    
    <item>
      <title>Ektron: A Fix For Uploading Assets into a Folder Called Assets</title>
      <link>https://codifice.uk/posts/2010-04-08-ektron-fix-for-uploading-assets-into/</link>
      <pubDate>Thu, 08 Apr 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-04-08-ektron-fix-for-uploading-assets-into/</guid>
      <description>An interesting bug came in today from a client that had been uploading content and images into their workarea for their upcoming release.&amp;nbsp; Most of their images weren’t being displayed on the site or in the workarea.
When the image url was navigated to directly, instead of an server error or file not found we saw this:
 Error: Asset requested doesn&#39;t exist in the system
 I beg to differ!</description>
    </item>
    
    <item>
      <title>Diagnosing an Ektron eSync Relationship</title>
      <link>https://codifice.uk/posts/2010-03-23-ektron-esync-error-servicechannel/</link>
      <pubDate>Tue, 23 Mar 2010 00:00:00 +0000</pubDate>
      
      <guid>https://codifice.uk/posts/2010-03-23-ektron-esync-error-servicechannel/</guid>
      <description>Ektron’s eSync service is a great product when it’s working but getting the initial configuration right can be a bit fiddly.&amp;nbsp; I’ve compiled a quick diagnostic procedure to resolve the most common issues, as well as some of the more common issues.
Note: The Ektron Windows Service is usually in: C:\Program Files\Ektron\EktronWindowsService30. After any configuration change restart the Ektron Windows Service on every node in the relationship.
 Restart the Ektron Windows Service on every node within the relationship  Ensure that the Ektron license is valid for every database within the relationship  Ensure that you can access http://&amp;lt;DOMAINNAME&amp;gt;/workarea/ServerControlWS.</description>
    </item>
    
  </channel>
</rss>